(()=>{"use strict";var e={851:function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{u(n.next(e))}catch(e){r(e)}}function s(e){try{u(n.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=i(593);chrome.runtime.onInstalled.addListener((()=>{chrome.storage.sync.set({blueList:{timeFrom:"09:00",timeTo:"17:00",weekdays:[!0,!0,!0,!0,!0,!1,!1],urls:[],redirectURL:"chrome://extensions"}})})),chrome.tabs.onUpdated.addListener(((e,t,i)=>n(void 0,void 0,void 0,(function*(){chrome.storage.sync.get("blueList",(e=>n(void 0,void 0,void 0,(function*(){if(i.url){const t=new URL(i.url);if(e.blueList.urls.includes(t.href)||e.blueList.urls.includes(`${t.origin}`)){const t=new Date,n=new Date((0,o.buildTimeStamp)(e.blueList.timeFrom)),r=new Date((0,o.buildTimeStamp)(e.blueList.timeTo));let a=t.getDay()<1?6:t.getDay()-1;if(n>r&&r.setDate(r.getDate()+1),t>=n&&t<=r&&e.blueList.weekdays[a]){const t={iconUrl:"favicon-48x48.png",title:"OOPS",message:"Looks like you are trying to access a site on your timeout list, check out options page for more details",type:"basic",silent:!1,priority:2};chrome.notifications.create(t),i.id&&chrome.tabs.update(i.id,{url:e.blueList.redirectURL})}}}}))))}))))},593:function(e,t){var i=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{u(n.next(e))}catch(e){r(e)}}function s(e){try{u(n.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBlueListData=t.isURL=t.buildTimeStamp=t.getURL=t.getTab=void 0;const n=()=>i(void 0,void 0,void 0,(function*(){let[e]=yield chrome.tabs.query({active:!0,lastFocusedWindow:!0});return e}));t.getTab=n,t.getURL=()=>i(void 0,void 0,void 0,(function*(){return(yield n()).url})),t.buildTimeStamp=e=>{const t=new Date;return`${t.getFullYear()}-${t.getMonth()<10?`0${t.getMonth()+1}`:t.getMonth()}-${t.getDate()<10?`0${t.getDate()}`:t.getDate()}T${e}`},t.isURL=e=>{try{return new URL(e),!0}catch(e){return!1}},t.fetchBlueListData=()=>i(void 0,void 0,void 0,(function*(){return yield chrome.storage.sync.get("blueList")}))}},t={};!function i(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,i),r.exports}(851)})();